package ru.homecrew.service.task;

import java.util.List;
import ru.homecrew.dto.task.TaskCreateDto;
import ru.homecrew.dto.task.TaskDetailsDto;
import ru.homecrew.dto.task.TaskDto;
import ru.homecrew.entity.AppUser;
import ru.homecrew.enums.TaskStatus;

/**
 * –°–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏.
 * –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–¥–∞—á.
 * –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤—è–∑—å –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∑–∞–¥–∞—á–∞–º–∏, –∞ —Ç–∞–∫–∂–µ –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
 */
public interface TaskService {

    /** –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É. */
    TaskDto create(TaskCreateDto dto);

    /** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–¥–∞—á—É –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É. */
    TaskDto getById(Long id);

    /** –û–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–¥–∞—á—É. */
    TaskDto update(Long id, TaskCreateDto dto);

    /** –£–¥–∞–ª—è–µ—Ç –∑–∞–¥–∞—á—É –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É. */
    void delete(Long id);

    /**
     * –ú–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: NEW ‚Üí IN_PROGRESS, DONE –∏ —Ç.–ø.)
     * –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π.
     */
    void changeStatusAndAssign(Long id, TaskStatus newStatus, AppUser user);

    /**
     * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ –µ–≥–æ Telegram chatId.
     */
    List<TaskDto> getByAssignee(Long telegramChatId);

    /**
     * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—Ñ–∏–ª—å—Ç—Ä).
     */
    List<TaskDto> getTasks(String status, Long userId);

    /**
     * üî• –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∑–∞–¥–∞—á–µ:
     * –æ–ø–∏—Å–∞–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –≤–ª–æ–∂–µ–Ω–∏—è.
     */
    TaskDetailsDto getTaskDetails(Long id);
}
